<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="zh_cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>python 基础一：基础语法和解释运行 | vincent blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://wisonwang.github.io/posts/python-ji-chu-yi-ji-chu-yu-fa-he-jie-shi-zhi-xing/">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><meta name="author" content="vincent wang">
<meta property="og:site_name" content="vincent blog">
<meta property="og:title" content="python 基础一：基础语法和解释运行">
<meta property="og:url" content="https://wisonwang.github.io/posts/python-ji-chu-yi-ji-chu-yu-fa-he-jie-shi-zhi-xing/">
<meta property="og:description" content="认识python



python是解释执行的动态语言


python一般是运行解释器解析python文件（模块）来运行，或者可以通过调用（python -i）进行交互式开发（边写代码，边运行，是不是很酷？）



作为初学者，可以先通过“pip install ipython”安装ipython，然后通过调用“ipython”来启动交互界面，ipython是python交互式开发的增强工具，">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-02-09T17:07:45+08:00">
<meta property="article:tag" content="python">
</head>
<body>
    <section class="social"><ul>
<li><a href="../../index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="../../archive.html" title="文章存档"><i class="icon-archive"></i></a></li>
            <li><a href="../../categories/" title="标签"><i class="icon-tags"></i></a></li>
            <li><a href="../../pages/about" title="About"><i class="icon-about"></i></a></li>
            <li><a href="../../rss.xml" title="RSS 源"><i class="icon-rss"></i></a></li>
            <li><a href="https://twitter.com/wisonwang" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/wisonwang" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
    <div class="post">
        <h1 class="p-name entry-title" itemprop="headline name">python 基础一：基础语法和解释运行</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2020-02-09T17:07:45+08:00">2020-02-09 17:07</time>
            
                      |  
        <a href="index.org" id="sourcelink">源代码</a>

            </div>
                    <div itemprop="keywords" class="tags">
        <ul>
        标签 : 
           <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div id="outline-container-orgdf2bb90" class="outline-2">
<h2 id="orgdf2bb90">认识python</h2>
<div class="outline-text-2" id="text-orgdf2bb90">
</div>
<div id="outline-container-orgab12bfb" class="outline-4">
<h4 id="orgab12bfb">python是解释执行的动态语言</h4>
<div class="outline-text-4" id="text-orgab12bfb">
<p>
python一般是运行解释器解析python文件（模块）来运行，或者可以通过调用（python -i）进行交互式开发（边写代码，边运行，是不是很酷？）<br></p>

<p>
作为初学者，可以先通过“pip install ipython”安装ipython，然后通过调用“ipython”来启动交互界面，ipython是python交互式开发的增强工具，提供了自动补全，语法高亮的功能，可以更好的进行更好的进行交互式开发。<br></p>

<p>
后面大部分提供的代码示例都可以放到ipython里演示。<br></p>

<!-- TEASER_END -->
</div>
</div>

<div id="outline-container-orga65af00" class="outline-4">
<h4 id="orga65af00">语法简洁，优美，工程简单</h4>
<div class="outline-text-4" id="text-orga65af00">
<ol class="org-ol">
<li>python没有大多数语言的“;”语句分割符号，依靠缩进来规范语句段落间隔，同时因为python大量的内置函数，支持函数式和面向对象编程范式，语法非常精简，良好规范后的python的代码简洁优美。后面会介绍如何使用flake8工具来规范代码。<br>
</li>

<li>简单的python程序可以是单个文件，也可以是一个python包（模块， 后面会介绍python的包管理），<br>
</li>
</ol>
<p>
所以很多运维工程师和自动化测试工程师会选择python作为任务脚本语言，一个文件就是一个完整的程序，结构简单。<br></p>
</div>
</div>

<div id="outline-container-org11875c4" class="outline-4">
<h4 id="org11875c4">python和CPython</h4>
<div class="outline-text-4" id="text-org11875c4">
<p>
python是一种语言规范，Cpython是基于c语言实现的一个现实版本，多数情况下我们说的python其实是CPYthon，除了cpython还有其他的实现版本，<br>
如：JPython（java）， RPython(R语言), PyPython（这个有意思是基于python语言的自实现版本）…<br></p>
</div>
</div>


<div id="outline-container-orgf8c0d37" class="outline-4">
<h4 id="orgf8c0d37">功能扩展库多，应用广泛</h4>
<div class="outline-text-4" id="text-orgf8c0d37">
<p>
因为多数情况我们用的是CPython（目前的系统级底层大部分都是基于c、c++的），所以除了纯python实现的三方库以外，<br>
还有很多基于其他的语言实现库，所以python应用范围很广。例如：基于pytest可以做一些简单的自动化测试工作，<br>
pyqt、wxwidget做简单的gui程序，还有目前热门的大数据、AI方面也是很多人的主要开发语言。<br></p>
</div>
</div>


<div id="outline-container-org3897c7d" class="outline-4">
<h4 id="org3897c7d">python2.x &amp; python 3.x</h4>
<div class="outline-text-4" id="text-org3897c7d">
<p>
目前python有python2.x和python3.x两个流行的版本，python3是在python2的基础上，做了一些语法的优化，和加入了一些新的特性和优化。<br>
由于python2在2020年官方就不再支持安全更新了，所以现在学习python3就可以了，<br>
两者的大部分的语法都是一致的，对于差异，在学习和工作中稍作留意即可。<br></p>

<p>
一般类unix系统（linux、mac os）都自带python，但是不一定默认是python3，可以在终端执行'python –version',查看当前版本是否是python3版本。<br>
如果不是python3或者没有安装python，可以从<a href="https://www.python.org/downloads/">python org</a>下载安装包安装。<br></p>

<p>
安装完python后，通常还必须<a href="https://pip.pypa.io/en/stable/installing/">安装pip python包管理工具</a>，用来安装其他三方库。<br></p>
</div>
</div>

<div id="outline-container-org27136fd" class="outline-4">
<h4 id="org27136fd">开发工具</h4>
<div class="outline-text-4" id="text-org27136fd">
<p>
pycharm，VSCode(强烈推荐),IPython, vim, emacs,等等。<br></p>
</div>
</div>

<div id="outline-container-org2d05c73" class="outline-4">
<h4 id="org2d05c73">检查环境</h4>
<div class="outline-text-4" id="text-org2d05c73">
<p>
很多时候需要管理多个python环境，如果你对你的运行、安装环境有疑问，可以运行一下代码检查一下<br><br></p>

<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"sys.path 包含了当前pythonpath路径，也就是python寻找包的路径列表"</span><span class="p">)</span>

<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

<p>
sys.path 包含了当前pythonpath路径，也就是python寻找包的路径列表<br>
/Users/vincent/anaconda3/envs/python36/lib/python36.zip<br>
/Users/vincent/anaconda3/envs/python36/lib/python3.6<br>
/Users/vincent/anaconda3/envs/python36/lib/python3.6/lib-dynload<br><br>
/Users/vincent/anaconda3/envs/python36/lib/python3.6/site-packages<br><i>Users/vincent/anaconda3/envs/python36/lib/python3.6/site-packages/IPython/extensions<br>
/Users/vincent</i>.ipython<br></p>

<p>
<br>
可以看到上面的路径顺序，中间的空格表示当前目录，所以三方包（通过pip install安装或者python setup.py instal·l安装的包，<br>
一般都会安装到site-packages目录下）优先级是比当前工作目录下的python模块优先级低，如果本地模块和三方包有同名的情况，会优先import本地的。<br></p>
</div>
</div>
</div>


<div id="outline-container-orgdc8cb95" class="outline-2">
<h2 id="orgdc8cb95">基础语法</h2>
<div class="outline-text-2" id="text-orgdc8cb95">
</div>
<div id="outline-container-org284e54c" class="outline-4">
<h4 id="org284e54c">模块名、文件名</h4>
<div class="outline-text-4" id="text-org284e54c">
<p>
python的模块可以是一个文件也可以是一个包或者目录，模块名不能包含“.”（除了".py"后缀）符号。如果是目录的话，目录中必须包含"<span class="underline"><span class="underline">init</span></span>.py"文件，才会被python识别为模块，从而被“import”。<br></p>

<p>
"import"包时使用显式引入包名，不要使用"*",后者会降低代码可读性，也可能导致一些冲突。<br></p>

<p>
如，下面的显示引入包名：<br></p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>

<p>
1.7320508075688772<br></p>

<p>
明显比下面的代码可读性更强，同时也可以避免一些同名模块或变量的歧义，冲突。<br></p>

<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="o">*</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>

<p>
1.7320508075688772<br></p>
</div>

<ul class="org-ul">
<li>
<a id="org70e3fe8"></a>python3 的模块引入规范<br><div class="outline-text-5" id="text-org70e3fe8">
<p>
只有模块名在全局路路径（sys.path）中才可以直接"import",否则需要使用相对路径"import"。<br></p>

<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="c1"># ok , 因为math在sys.path所有路径中有包含</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">your_own_mod</span>  <span class="c1"># ok，相对路径</span>
<span class="kn">import</span> <span class="nn">your_own_mod</span> <span class="c1"># 如果your_own_mod是在当前运行环境目录中，正确，否则会报错误</span>
</pre></div>
</div>
</li>
</ul>
</div>


<div id="outline-container-org85c0e02" class="outline-4">
<h4 id="org85c0e02">变量</h4>
<div class="outline-text-4" id="text-org85c0e02">
<p>
python是动态语言，变量无需声明，可以直接定义、赋值。所以变量的类型也是动态类型,并且运行过程中同一个变量可以有不同的值甚至不同的类型。<br>
所以在python程序中，如果你的程序是由多个文件、模块构成的，应该尽量避免使用全局变量。<br></p>

<div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="s2">"hello world"</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"a is "</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"a is "</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

<p>
a is  hello world<br>
a is  0<br></p>
</div>
</div>


<div id="outline-container-orgd42cffe" class="outline-4">
<h4 id="orgd42cffe">函数</h4>
<div class="outline-text-4" id="text-orgd42cffe">
<p>
函数以def定义，python通过空行和缩进来区分函数作用域，函数定义的开始和结束，至少空一行，最好是空两行。语句段落间，推荐空一行，保证程序结构清晰。<br></p>


<div class="highlight"><pre><span></span><span class="c1"># *args 表示可变参数，**kw表示可变的key参数。是处理未知参数的两种扩展参数</span>
<span class="c1"># fname 是普通的站位参数，sname是一个key参数，key参数必须在所有普通参数后面定义，函数调用时同理，但是key参数调用时顺序是可变的</span>
<span class="c1"># 例如： echo("vincent", sname="wang", addr="", 1, 2, 3) 错误</span>
<span class="c1"># echo("vincent",  1, 2, 3, addr="", sname="wang") 正确</span>
<span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span>  <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">sname</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
	<span class="nb">print</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">sname</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

<span class="n">echo</span><span class="p">(</span><span class="s2">"vincent"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sname</span><span class="o">=</span><span class="s2">"wang"</span><span class="p">,</span> <span class="n">addr</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
</pre></div>

<p>
vincent wang (1, 2, 3) {'addr': ''}<br></p>
</div>
</div>

<div id="outline-container-org52ca97d" class="outline-4">
<h4 id="org52ca97d">类&amp;对象</h4>
<div class="outline-text-4" id="text-org52ca97d">
<p>
python类型定义使用class 关键字，创建对象类似于函数调用，只是调用者为类。<br></p>

<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Student</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># 这里定义的定义 会同事定义class和object属性</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="s2">"??"</span>
    <span class="n">sname</span> <span class="o">=</span> <span class="s2">"????"</span>
    <span class="n">age</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">addr</span> <span class="o">=</span> <span class="s2">"......"</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="s2">"1000000"</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">age</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
	<span class="sd">"""初始化方法"""</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">fname</span> <span class="o">=</span> <span class="n">fname</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">sname</span> <span class="o">=</span> <span class="n">sname</span>
	<span class="c1"># class 属性可以作为默认值</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"age"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">phone</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"phone"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">phone</span><span class="p">)</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">addr</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"addr"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">addr</span><span class="p">)</span>
	<span class="c1"># sex只是对象的属性，不是class的属性</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">sex</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"sex"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
	<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">echo_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
	<span class="nb">print</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">fname</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">sname</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">addr</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">phone</span><span class="p">)</span>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
	<span class="sd">"""当对象转化成字符串时回调用对象的__str__方法"""</span>
	<span class="k">return</span> <span class="nb">str</span><span class="p">({</span>
	    <span class="s2">"fname"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="p">,</span>
	    <span class="s2">"sname"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="p">,</span>
	    <span class="s2">"age"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="p">,</span>
	    <span class="s2">"addr"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">addr</span><span class="p">,</span>
	    <span class="s2">"phone"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">phone</span><span class="p">,</span>
	    <span class="s2">"sex"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sex</span>
	<span class="p">})</span>


<span class="n">Student</span><span class="o">.</span><span class="n">echo_class</span><span class="p">()</span>

<span class="n">s1</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="s2">"vincent"</span><span class="p">,</span> <span class="s2">"wang"</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">sex</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">s1</span><span class="o">.</span><span class="n">echo</span><span class="p">()</span>

<span class="n">Student</span><span class="o">.</span><span class="n">addr</span> <span class="o">=</span> <span class="s2">"??????xxxx"</span>
<span class="n">Student</span><span class="o">.</span><span class="n">echo_class</span><span class="p">()</span>

<span class="n">s2</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="s2">"vincent"</span><span class="p">,</span> <span class="s2">"wang"</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">sex</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># 可以看到s2和s1的addr属性是不一致的，原因是对象在初始化前，首先拷贝的类的属性和值</span>
<span class="n">s2</span><span class="o">.</span><span class="n">echo</span><span class="p">()</span>
</pre></div>

<p>
&lt;class '<span class="underline"><span class="underline">main</span></span>.Student'&gt; ?? ???? 12 …… 1000000<br>
{'fname': 'vincent', 'sname': 'wang', 'age': 12, 'addr': '……', 'phone': '1000000', 'sex': 1}<br>
&lt;class '<span class="underline"><span class="underline">main</span></span>.Student'&gt; ?? ???? 12 ??????xxxx 1000000<br>
{'fname': 'vincent', 'sname': 'wang', 'age': 12, 'addr': '??????xxxx', 'phone': '1000000', 'sex': 1}<br></p>

<p>
其实在python中类也是一种对象，也是可以在运行时动态创建和修改定义的。<br>
新的python规范中所有的类都是继承object这个根类，所以也自带一些内置的函数和方法。如上个例子中的"<span class="underline"><span class="underline">str</span></span>"方法。初学者可以稍微浏览一下这些方法，一遍更深入的了解python类和对象的运行机制.<br></p>
</div>
</div>

<div id="outline-container-orgca0db94" class="outline-4">
<h4 id="orgca0db94">注释</h4>
<div class="outline-text-4" id="text-orgca0db94">
<p>
一般单行注释可以使用“#”,多行注释可以使用三个（单、双）引号对包括。<br></p>
</div>
</div>
</div>

<div id="outline-container-orgbec58e1" class="outline-2">
<h2 id="orgbec58e1">数据类型</h2>
<div class="outline-text-2" id="text-orgbec58e1">
</div>
<div id="outline-container-org46b887e" class="outline-4">
<h4 id="org46b887e">python是面向对象编程的语言,但是也可以像函数式语言工作</h4>
<div class="outline-text-4" id="text-org46b887e">
<p>
<br></p>

<p>
python 中所有类型都可以看作类、对象。例如所有的函数都是"第一类"的对象，函数有自己的方法，属性，类型，也可以作为任何函数的参数。<br></p>

<p>
如:<br></p>

<div class="highlight"><pre><span></span><span class="c1"># 通过type函数打印print函数类型</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="nb">print</span><span class="p">))</span>
<span class="c1"># 通过dir函数访问print函数（对象）属性</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="nb">print</span><span class="p">))</span>
</pre></div>

<p>
['<span class="underline"><span class="underline">call</span></span>', '<span class="underline"><span class="underline">class</span></span>', '<span class="underline"><span class="underline">delattr</span></span>', '<span class="underline"><span class="underline">dir</span></span>', '<span class="underline"><span class="underline">doc</span></span>', '<span class="underline"><span class="underline">eq</span></span>', '<span class="underline"><span class="underline">format</span></span>', '<span class="underline"><span class="underline">ge</span></span>', '<span class="underline"><span class="underline">getattribute</span></span>', '<span class="underline"><span class="underline">gt</span></span>', '<span class="underline"><span class="underline">hash</span></span>', '<span class="underline"><span class="underline">init</span></span>', '<span class="underline"><span class="underline">init_subclass</span></span>', '<span class="underline"><span class="underline">le</span></span>', '<span class="underline"><span class="underline">lt</span></span>', '<span class="underline"><span class="underline">module</span></span>', '<span class="underline"><span class="underline">name</span></span>', '<span class="underline"><span class="underline">ne</span></span>', '<span class="underline"><span class="underline">new</span></span>', '<span class="underline"><span class="underline">qualname</span></span>', '<span class="underline"><span class="underline">reduce</span></span>', '<span class="underline"><span class="underline">reduce_ex</span></span>', '<span class="underline"><span class="underline">repr</span></span>', '<span class="underline"><span class="underline">self</span></span>', '<span class="underline"><span class="underline">setattr</span></span>', '<span class="underline"><span class="underline">sizeof</span></span>', '<span class="underline"><span class="underline">str</span></span>', '<span class="underline"><span class="underline">subclasshook</span></span>', '<span class="underline"><span class="underline">text_signature</span></span>'] &lt;class 'builtin_function_or_method'&gt;<br></p>
<p>
<br>
可以看到print函数类型是“class 'builtin_function_or_method'”类， 以及它的属性和方法。<br></p>

<p>
<br>
虽然python所有类型都是类和对象，但是在语法上很灵活，和一般的面向对象的语言不一样（如java），用户可以选择不显示的使用面向对象的方法，创建类，对象来设计程序，可以只是定义函数（虽然实际上也是对象），来使用类似函数式编程的方式完成程序开发。<br></p>

<p>
<br></p>
</div>
</div>

<div id="outline-container-orga05eb91" class="outline-4">
<h4 id="orga05eb91">基本类型</h4>
<div class="outline-text-4" id="text-orga05eb91">
<p>
如上文所述，python的基本类型其实也都是类的实例对象，int（整形），string，float， bool等，这点和其他静态语言是有很大不一样的。所以python的基本类型也都有自己丰富的成员函数。<br></p>

<div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"a 为"</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="s2">"hello python"</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"a 为"</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"a 为"</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="kc">True</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"a 为"</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

<p>
a 为 &lt;class 'int'&gt; 1<br>
a 为 &lt;class 'str'&gt; hello python<br>
a 为 &lt;class 'float'&gt; 1.0<br>
a 为 &lt;class 'bool'&gt; True<br></p>

<p>
关于一些基本类型的成员方法，可以在官方文档中详细了解<a href="https://docs.python.org/3/reference/datamodel.html#the-standard-type-hierarchy">python 基本类型分类</a>。<br></p>
</div>
</div>

<div id="outline-container-orgefb714e" class="outline-4">
<h4 id="orgefb714e">复合类型</h4>
<div class="outline-text-4" id="text-orgefb714e">
</div>
<ul class="org-ul">
<li>
<a id="orge4ea2c3"></a>序列（sequences）<br><ul class="org-ul">
<li>
<a id="org3e70592"></a>不可修改序列（Immutable）<br><div class="outline-text-6" id="text-org3e70592">
<p>
不可修改的序列，意思是类型创建后就不能再次修改。包括：strings（str字符串类型），tuple(元组类型)，bytes（子杰串类型）。注意：只有不可修改的序列才是可以hash化的，也就是可以作为map类型的key值以及set类型的元素。<br></p>
</div>
</li>


<li>
<a id="orge0b5e5e"></a>可修改序列类型（mutable）<br><div class="outline-text-6" id="text-orge0b5e5e">
<p>
和不可修改的序列类型对应的的是可修改的序列类型，例如：list（列表类型，相当于数组），bytearray。<br>
可修改的序列类型，创建后，可以进行切片操作，任意修改，例如：<br></p>

<div class="highlight"><pre><span></span><span class="c1"># list</span>

<span class="n">a_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="n">a_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># 新增元素</span>
<span class="c1"># 切片操作</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a_list</span><span class="p">,</span> <span class="n">a_list</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="n">a_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># tuple元组类型</span>

<span class="n">a_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">a_list</span><span class="p">)</span>

<span class="c1"># 以下操作是错误的</span>
<span class="c1"># a_tuple[-1] = a_tuple[-1]</span>

<span class="c1"># 序列类型，我们在函数定义中定义缺省参数很多时候会用到</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"*a_tuple="</span><span class="p">,</span> <span class="o">*</span><span class="n">a_tuple</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">"echo"</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>

<span class="n">echo</span><span class="p">(</span><span class="n">a_tuple</span><span class="p">)</span>
<span class="n">echo</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">,</span> <span class="s2">"python"</span><span class="p">)</span>
</pre></div>

<p>
[1, 2, 3, 4, 5] [1, 2, 3, 4]<br>
*a_tuple= 1 2 3 4 5<br>
echo ((1, 2, 3, 4, 5),)<br>
echo ('hello', ' ', 'python')<br></p>
</div>
</li>
</ul>
</li>

<li>
<a id="orgac7df45"></a>集合(set)<br><div class="outline-text-5" id="text-orgac7df45">
<p>
集合类型保存的是一些无序的Immutable对象，提供了一些集合操作的常用成员函数，如：add(添加元素)，remove（删除元素），intersection（交集）, union（合集）, difference（差集）等操作。<br></p>

<p>
注意set类型本身是可以修改的，如果想要使用Immutable set类型，可以使用fronzenset。fronzenset创建后不可修改，可以被hash化，也可以作为其它set对象的元素,也可以作为地点类型的key值。<br></p>
</div>
</li>


<li>
<a id="org563511b"></a>字典（map）<br><div class="outline-text-5" id="text-org563511b">
<p>
python的map类型，标准库里目前只有字典类型（dict()函数创建，也可以直接使用"{}"赋值）, 字典类型的key值必须是可以hash化的，也就是immutable的。<br></p>

<div class="highlight"><pre><span></span><span class="n">a_dict1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span> <span class="c1"># ok</span>

<span class="n">a_dict2</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span> <span class="c1"># ok</span>

<span class="n">a_dict3</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([</span><span class="nb">tuple</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])])</span> <span class="c1"># ok, 从元组数组转换</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a_dict1</span><span class="p">,</span> <span class="n">a_dict2</span><span class="p">,</span> <span class="n">a_dict3</span><span class="p">)</span>
</pre></div>

<p>
{1: 2} {1: 2} {1: 2}<br></p>
</div>
</li>
</ul>
</div>


<div id="outline-container-orgb73d99f" class="outline-4">
<h4 id="orgb73d99f">可调用类型（可以像函数一样可以调用的类型）</h4>
<div class="outline-text-4" id="text-orgb73d99f">
</div>
<ul class="org-ul">
<li>
<a id="orgede3da4"></a>用户定义函数<br>
</li>

<li>
<a id="org0112757"></a>类或者对象的函数<br>
</li>

<li>
<a id="orgf966528"></a>生成器函数（yield）<br>
</li>

<li>
<a id="org309e0d9"></a>协程函数<br>
</li>

<li>
<a id="org8746d30"></a>异步生成器函数<br>
</li>

<li>
<a id="org8a5741f"></a>内建函数（通常是c语言函数封装而来）<br>
</li>


<li>
<a id="org9ecc3c4"></a>内建成员方法<br>
</li>

<li>
<a id="org2612027"></a>类构造函数<br>
</li>

<li>
<a id="orgbceb02d"></a>可调用对象（实现"<span class="underline"><span class="underline">call</span></span>"函数）<br><div class="outline-text-5" id="text-orgbceb02d">
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CallerObject</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
  <span class="sd">"""</span>
<span class="sd">  可调用对象,必须实现“__call__”成员方法          </span>
<span class="sd">  """</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"hello "</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>


<span class="n">caller</span> <span class="o">=</span> <span class="n">CallerObject</span><span class="p">()</span>

<span class="n">caller</span><span class="p">(</span><span class="s2">"object caller"</span><span class="p">)</span>
</pre></div>

<p>
hello  object caller<br></p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org3024786" class="outline-4">
<h4 id="org3024786">用户定义类型</h4>
</div>
<div id="outline-container-org30886e0" class="outline-4">
<h4 id="org30886e0">类的实例化对象</h4>
</div>
</div>

<div id="outline-container-org4d8e4e5" class="outline-2">
<h2 id="org4d8e4e5">简单规范</h2>
<div class="outline-text-2" id="text-org4d8e4e5">
</div>
<div id="outline-container-orgf643aa9" class="outline-4">
<h4 id="orgf643aa9">开始第一个python项目</h4>
<div class="outline-text-4" id="text-orgf643aa9">
<p>
周边接触到很多使用python的工作的人，不喜欢使用python的工程规范来管理自己的代码，其实这是很不明智的。一个好的习惯是，<br>
将自己的代码用python标准的工程管理起来，这有很多好处，如：<br></p>

<ol class="org-ol">
<li>熟练python的setup tools包管理工具， 方便后面使用setup tools一些非常有用的功能<br>
</li>
<li>加深理解python环境引用（import）包的一些规则<br>
</li>
<li>
<p>
合理管理程序依赖，发布程序，例如：<br></p>

<ul class="org-ul">
<li>使用"python setup.py develop",安装开发环境，实际是生成本地工程的包信息，然后连接到PYTHONPATH中,<br>
</li>
</ul>
<p>
这样如果你改变了你工程代码，不需要任何类似拷贝的操作，在任何地方都可以引用该包,当你的工程是由多个工程或者模块组成的时候这很重要。<br></p>
<ul class="org-ul">
<li>使用"python setup.py build",构建的你程序包，验证依赖环境，同时当你想分享你的代码时，其他人可以很方便的安装你的程序（使用“pip install”或者“python setup.py install”）<br>
</li>
<li>集成一些必要的功能到你的项目，如：自动化测试，自动安装依赖，自动生成项目文档，发布代码等。<br>
</li>
</ul>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgc54a118" class="outline-4">
<h4 id="orgc54a118">项目样例</h4>
<div class="outline-text-4" id="text-orgc54a118">
<p>
   首先可以从github上下载<a href="https://github.com/navdeep-G/samplemod">python setup 例子github连接</a> ，然后在此基础上进行你自己的代码开发。下面将简单介绍里面各个部分的功能，<br>
并以此为基础演示一些有用的技巧。<br></p>

<p>
首先我们看看这个例子的目录结构：<br></p>

<div class="highlight"><pre><span></span>ls ../files/python-samplemod
</pre></div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">LICENSE</td>
<td class="org-left">代码法律许可声明，在你需要开放分享你的代码的时候很重要</td>
</tr>
<tr>
<td class="org-left">Makefile</td>
<td class="org-left">使用make来简化一些构建任务</td>
</tr>
<tr>
<td class="org-left">README.rst</td>
<td class="org-left">本工程说明</td>
</tr>
<tr>
<td class="org-left">docs</td>
<td class="org-left">项目文档</td>
</tr>
<tr>
<td class="org-left">requirements.txt</td>
<td class="org-left">依赖包</td>
</tr>
<tr>
<td class="org-left">sample</td>
<td class="org-left">实际代码目录</td>
</tr>
<tr>
<td class="org-left">setup.py</td>
<td class="org-left">包管理模需要的setup.py文件</td>
</tr>
<tr>
<td class="org-left">tests</td>
<td class="org-left">放置的你的测试代码</td>
</tr>
</tbody>
</table>
<p>
然后简单学习一下setup.py 文件编写：<br></p>

<div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># 注意养成好习惯 每个python文件头部定义 编码类型，否则在python文件解释过程中，会遇到中文编码问题</span>
<span class="c1"># Learn more: https://github.com/kennethreitz/setup.py</span>
<span class="c1"># 单行注释</span>
<span class="sd">"""</span>
<span class="sd">多行注释或者多行字符串，“"”和“'”可以通用</span>
<span class="sd">"""</span>


<span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">find_packages</span><span class="p">,</span> <span class="n">setup</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'README.rst'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">readme</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'LICENSE'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">license</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># setup 函数式</span>
<span class="n">setup</span><span class="p">(</span>
    <span class="c1"># 包名项目名， 当发布项目到pypi(https://pypi.org/)后，可以使用pip install &lt;name&gt;[==&lt;version&gt;], 安装项目</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">'sample'</span><span class="p">,</span>
    <span class="c1"># 版本</span>
    <span class="n">version</span><span class="o">=</span><span class="s1">'0.1.0'</span><span class="p">,</span>
    <span class="c1"># 描述</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">'Sample package for Python-Guide.org'</span><span class="p">,</span>
    <span class="c1"># 简要说明</span>
    <span class="n">long_description</span><span class="o">=</span><span class="n">readme</span><span class="p">,</span>
    <span class="c1"># 作者信息</span>
    <span class="n">author</span><span class="o">=</span><span class="s1">'Kenneth Reitz'</span><span class="p">,</span>
    <span class="n">author_email</span><span class="o">=</span><span class="s1">'me@kennethreitz.com'</span><span class="p">,</span>
    <span class="c1"># 项目链接地址</span>
    <span class="n">url</span><span class="o">=</span><span class="s1">'https://github.com/kennethreitz/samplemod'</span><span class="p">,</span>
    <span class="c1"># 授权许可</span>
    <span class="n">license</span><span class="o">=</span><span class="n">license</span><span class="p">,</span>
    <span class="c1"># find_packages，会搜索当前文件下的所有模块，作为项目模块（python模块是指包含"__init__.py"文件的目录），</span>
    <span class="c1"># 当执行pip install或者python setup.py install 命令时这些模块就会被安装到PYTHONPATH中</span>
    <span class="c1"># exclude 参数表示该程序包安装、打包时不包含目录</span>
    <span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">(</span><span class="s1">'tests'</span><span class="p">,</span> <span class="s1">'docs'</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>


<div id="outline-container-org50d37da" class="outline-2">
<h2 id="org50d37da">常见问题</h2>
<div class="outline-text-2" id="text-org50d37da">
<p>
浏览了上面的内容后，可以使用python进行基本的程序开发，中间可能会还有一些异常故障，但是相信自己，通过上面的基础知识能快速的找到问题的根源，解决问题，如果不行，尝试搜索引擎搜索问题答案, 也可以浏览官方中文文档,查找相关问题。<br></p>

<p>
<a href="https://docs.python.org/zh-cn/3.7/faq/programming.html">python fqa</a><br></p>
</div>
</div>
        </div>
                <ul class="pager hidden-print">
<li class="previous">
                <a href="../python-grpc-shi-yong/" rel="prev" title="python grpc 使用">前一篇</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="wisonwanghomepage",
            disqus_url="https://wisonwang.github.io/posts/python-ji-chu-yi-ji-chu-yu-fa-he-jie-shi-zhi-xing/",
        disqus_title="python \u57fa\u7840\u4e00\uff1a\u57fa\u7840\u8bed\u6cd5\u548c\u89e3\u91ca\u8fd0\u884c",
        disqus_identifier="cache/posts/python-ji-chu-yi-ji-chu-yu-fa-he-jie-shi-zhi-xing.html",
        disqus_config = function () {
            this.language = "zh_cn";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
                     <footer id="footer"><p>Contents © 2020         <a href="mailto:fangfu2012@gmail.com">vincent wang</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script><script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
    </script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
